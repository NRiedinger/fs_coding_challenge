<div class="card">
    <p-table
        [value]="tickets()"
        [tableStyle]="{ 'min-width': '60rem' }"
        [paginator]="true"
        [rows]="rows"
        [showCurrentPageReport]="true"
        [first]="first"
        [resizableColumns]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        (onPage)="pageChange($event)"
        [rowsPerPageOptions]="[10, 25, 50]"
    >
        <ng-template #header>
            <tr>
                <th>ID</th>
                <th style="width: 60%">Subject</th>
                <th>Priority</th>
                <th>Category</th>
                <th>Created</th>
            </tr>
        </ng-template>
        <ng-template #body let-ticket>
            <tr class="row-ticket" (click)="onTicketClick(ticket.id)">
                <td>{{ ticket.id }}</td>
                <td>
                    <!-- <a href="{{ '/tickets/' + ticket.id }}" style="text-decoration: none">{{
                        ticket.subject
                    }}</a> -->
                    <!-- <p-button variant="text" (onClick)="onTicketClick()" severity="contrast">
                        {{ ticket.subject }}
                    </p-button> -->
                    {{ ticket.subject }}
                </td>
                <td>
                    <p-tag
                        [value]="ticket.priority"
                        [severity]="getPrioritySeverity(ticket.priority)"
                    />
                </td>
                <td>{{ ticket.category }}</td>
                <td>{{ ticket.created_at | date: 'medium' }}</td>
            </tr>
        </ng-template>
    </p-table>
</div>
